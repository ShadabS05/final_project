{% extends 'base.html' %}

{% block content %}

<h2> Search For Tweets </h2>

<form action='/search' method="POST">
    <table>
        <tr>
            <td>Find a Message</td>
            <td><textarea name='search_text' required></textarea></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="submit" value="search"></td>
        </tr>
    </table>
</form>

{% if searched %}
<p> search worked! </p>
{% endif %}

<ul>
	{% if searched %}
		{% for message in messages %}
    			{% if message %}
        			<li>
            				<strong>{{ message.screen_name }}</strong> ({{ message.created_at }}):<br>
            				{{ message.text | safe }}<br>
       				</li>
			{% endif %}
    		{% endfor %}
	{% endif %}
</ul>

{% if noMatch %}
<p> No tweets matched your query. </p>
{% else %}
<div>
    {% if messages|length == 20 %}
        <a href="{{ url_for('search', page=page + 1, search_text=query) }}">Next</a>
    {% endif %}
    {% if page > 1 %}
        <a href="{{ url_for('search', page=page - 1, search_text=query) }}">Previous</a>
    {% endif %}
</div>
{% endif %}

{% endblock %}
